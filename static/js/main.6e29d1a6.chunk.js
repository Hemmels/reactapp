(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{19:function(t,e,n){t.exports=n.p+"static/media/logo.8d277a21.PNG"},21:function(t,e,n){t.exports=n(48)},48:function(t,e,n){"use strict";n.r(e);var a=n(0),l=n.n(a),r=n(14),i=n.n(r),o=n(1),c=n(3),s=n(4),u=n(6),h=n(5),f=n(15),p=n.n(f),m=n(20),d=n(2);function g(){var t=Object(o.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Mulish';\n\theight: 2em;\n\twidth: 5em;\n\tmargin: 0em;\n\tmargin-top: 1em;\n"]);return g=function(){return t},t}function v(){var t=Object(o.a)(["\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: #994020;\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 400;\n\tmargin-left: 1em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return v=function(){return t},t}function y(){var t=Object(o.a)(["\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: #409920;\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 100;\n\tmargin-left: 1em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return y=function(){return t},t}var b=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(t){return this.props.latency!==t.latency}},{key:"render",value:function(){var t,e=this.props.people,n=this.props.latency;return t=e>0?l.a.createElement(k,null,"Service contains ",e," people"):n<70?l.a.createElement(k,null,n,"ms"):l.a.createElement(j,null,n,"ms"),l.a.createElement("div",null,l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"}),l.a.createElement("div",null,l.a.createElement(E,null,this.props.name),t))}}]),n}(a.Component),k=d.a.div(y()),j=d.a.div(v()),E=d.a.p(g()),O=b,w=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=Object.entries(this.props.latencyMap).map((function(t,e){var n=Object(m.a)(t,2),a=n[0],r=n[1];return l.a.createElement(O,{key:e,name:a,latency:r})}));return l.a.createElement("div",null,t)}}]),n}(a.Component),x=n(19),C=n.n(x);function S(){var t=Object(o.a)(["\n\tdisplay: inline-block;\n\tcolor: #647eed;\n\tfont-family: 'Mulish';\n\tmargin: 0em;\n"]);return S=function(){return t},t}function M(){var t=Object(o.a)(["\n\twidth: 95%;\n\tdisplay: inline-block;\n\tcolor: cornflowerblue;\n\tfont-family: 'Mulish';\n\tfont-size: 2em;\n"]);return M=function(){return t},t}function T(){var t=Object(o.a)(["\n\tmax-width: 4em;\n    vertical-align: middle;\n"]);return T=function(){return t},t}function P(){var t=Object(o.a)(["\n\tline-height: 15px;\n    vertical-align: middle;\n\ttext-align: center;\n"]);return P=function(){return t},t}var L=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))).state={latencyCheck:[]},t.endpoints=function(){fetch("/api/endpointNames").then((function(t){if(!t.ok)throw console.log("Failed getting endpoints data: "+t.statusText),Error(t.statusText);return t.json()})).then((function(e){console.log("endpoints names fetched: "+e),t.setState({endpointNames:e})}))},t.doLatencyChecks=function(){fetch("/api/latencyCheck").then((function(t){if(!t.ok)throw console.log("Failed getting endpoints data: "+t.statusText),Error(t.statusText);return t.json()})).then((function(e){console.log("latencyCheck data fetched: "+JSON.stringify(e)),t.setState({latencyCheck:e})}))},t}return Object(s.a)(n,[{key:"callPeopleServices",value:function(){var t=this;fetch("https://swapi.dev/api/people/?format=json").then((function(t){if(!t.ok)throw console.log("Failed getting swapi data: "+t.statusText),Error(t.statusText);return t.json()})).then((function(e){console.log("SWAPI data fetched; there are "+e.results.length),t.setState({numSWPeople:e.results.length})})).catch((function(t){console.log(t)})),fetch("https://ghibliapi.herokuapp.com/people/?format=json").then((function(t){if(!t.ok)throw console.log("Failed getting Ghibli data: "+t.statusText),Error(t.statusText);return t.json()})).then((function(e){console.log("Ghibli data fetched; there are "+e.length),t.setState({numGhibPeople:e.length})})).catch((function(t){console.log(t)}))}},{key:"componentDidMount",value:function(){var t=this;this.endpoints(),this.doLatencyChecks(),this.interval=setInterval((function(){return t.doLatencyChecks()}),5e3),console.log("Page interval set to 5s")}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),console.log("Page interval cleared")}},{key:"render",value:function(){var t=null!=this.state&&null!=this.state.endpointList?this.state.endpointNames.length:0,e=null!=this.state&&null!=this.state.latencyCheck?this.state.latencyCheck:[];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement("title",null,"Service Dash"),l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"})),l.a.createElement(N,null,l.a.createElement("div",null,l.a.createElement(F,{src:C.a,alt:"Logo"}),l.a.createElement("div",null,l.a.createElement(G,null,"Service Status Dash"),l.a.createElement(I,null,"Page refreshes every 5s; ",t>0?"There are "+t+" endpoints":"")),l.a.createElement(w,{latencyMap:e}))))}}]),n}(a.Component),N=d.a.div(P()),F=d.a.img(T()),G=d.a.h1(M()),I=d.a.h3(S()),D=L;i.a.render(l.a.createElement(D,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.6e29d1a6.chunk.js.map