(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{31:function(e,t,n){e.exports=n.p+"static/media/logo.8d277a21.PNG"},34:function(e,t,n){e.exports=n(62)},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),i=n.n(l),c=n(6),o=n(26),u=n(8),s=n(9),h=n(14),m=n(12),d=n(11),f=n(27),p=n.n(f),g=n(33),v=n(7);function b(){var e=Object(c.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Mulish';\n\theight: 2em;\n\twidth: 5em;\n\tmargin: 0em;\n\tmargin-top: 1em;\n"]);return b=function(){return e},e}function y(){var e=Object(c.a)(["\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: ",";\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 100;\n\tmargin-left: 2em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return y=function(){return e},e}var k=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.latency!==e.latency}},{key:"render",value:function(){var e,t=this.props.latency;return e=t<100?r.a.createElement(j,{theme:{background:"#409920"}},t,"ms"):t<200?r.a.createElement(j,{theme:{background:"#999120"}},t,"ms"):r.a.createElement(j,{theme:{background:"#994020"}},t,"ms"),r.a.createElement("div",null,r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"}),r.a.createElement("div",null,r.a.createElement(E,null,this.props.name),e))}}]),n}(a.Component),j=v.a.div(y(),(function(e){return e.theme.background})),E=v.a.p(b()),O=k;function w(){var e=Object(c.a)(["\n\tmargin-left: 0.5em;\n"]);return w=function(){return e},e}var C=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=Object.entries(this.props.latencyMap).map((function(e,t){var n=Object(g.a)(e,2),a=n[0],l=n[1];return r.a.createElement(O,{key:t,name:a,latency:l})}));return r.a.createElement(S,null,e)}}]),n}(a.Component),S=v.a.div(w()),x=C,P=n(31),M=n.n(P),U=n(65),N=n(64),T=n(32),A=n(66);function L(){var e=Object(c.a)(["\n\tmargin: 0.5em; \n"]);return L=function(){return e},e}function D(){var e=Object(c.a)(["\n\tmargin: 0.5em;\n"]);return D=function(){return e},e}function F(){var e=Object(c.a)(["\n\tmargin: 1em; \n\tmax-width: 95%;\n"]);return F=function(){return e},e}function G(){var e=Object(c.a)(["\n\tbackground-color: pink;\n\tmargin: 1em;\n\twidth: 40%;\n"]);return G=function(){return e},e}function I(){var e=Object(c.a)(["\n\tdisplay: inline-block;\n\tcolor: #647eed;\n\tfont-family: 'Mulish';\n\tmargin: 0em;\n"]);return I=function(){return e},e}function W(){var e=Object(c.a)(["\n\twidth: 95%;\n\tdisplay: inline-block;\n\tcolor: cornflowerblue;\n\tmargin-bottom: .2rem;\n\tfont-family: 'Mulish';\n\tfont-size: 2em;\n"]);return W=function(){return e},e}function J(){var e=Object(c.a)(["\n\tmargin: 1em;\n\tmax-width: 4em;\n    vertical-align: middle;\n"]);return J=function(){return e},e}function z(){var e=Object(c.a)(["\n\tline-height: 15px;\n    vertical-align: middle;\n\ttext-align: center;\n"]);return z=function(){return e},e}var B=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).endpoints=function(){fetch("/api/endpointNames").then((function(e){return e.ok||console.log("Failed getting endpoints data: "+e.statusText),e.json()})).then((function(t){e.setState({endpointNames:t})}))},e.doLatencyChecks=function(){fetch("/api/latencyCheck").then((function(e){return e.ok||console.log("Failed getting endpoints data: "+e.statusText),e.json()})).then((function(t){e.setState({latencyCheck:t})}))},e.state={latencyCheck:[],newUrl:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(s.a)(n,[{key:"callPeopleServices",value:function(){var e=this;fetch("https://swapi.dev/api/people/?format=json").then((function(e){return e.ok||console.log("Failed getting swapi data: "+e.statusText),e.json()})).then((function(t){console.log("SWAPI data fetched; there are "+t.results.length),e.setState({numSWPeople:t.results.length})})).catch((function(e){console.log(e)})),fetch("https://ghibliapi.herokuapp.com/people/?format=json").then((function(e){return e.ok||console.log("Failed getting Ghibli data: "+e.statusText),e.json()})).then((function(t){console.log("Ghibli data fetched; there are "+t.length),e.setState({numGhibPeople:t.length})})).catch((function(e){console.log(e)}))}},{key:"addNewUrl",value:function(){var e={method:"POST",body:this.state.newUrl};fetch("/api/addendpoint",e).then((function(e){return e.json()}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(o.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addNewUrl()}},{key:"componentDidMount",value:function(){var e=this;this.endpoints(),this.doLatencyChecks(),this.interval=setInterval((function(){return e.doLatencyChecks()}),5e3),console.log("Page interval set to 5s")}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),console.log("Page interval cleared")}},{key:"render",value:function(){var e=null!=this.state&&null!=this.state.endpointList?this.state.endpointNames.length:0,t=null!=this.state&&null!=this.state.latencyCheck?this.state.latencyCheck:[];return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("title",null,"Service Dash"),r.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"})),r.a.createElement(q,null,r.a.createElement("div",null,r.a.createElement(H,{src:M.a,alt:"Logo"}),r.a.createElement("div",null,r.a.createElement(K,null,"Service Status Dash"),r.a.createElement(Q,null,"Page refreshes every 5s ",e>0?"; There are "+e+" endpoints":"")),r.a.createElement(x,{latencyMap:t}))),r.a.createElement("br",null),r.a.createElement(q,null,r.a.createElement(U.a,{as:R,onSubmit:this.handleSubmit},r.a.createElement(K,null,"Admin Panel"),r.a.createElement(N.a,{as:V},r.a.createElement(T.a,{as:X,type:"text",name:"newUrl",value:this.state.newUrl,onChange:this.handleChange,placeholder:"Add url to ping"}),r.a.createElement(N.a.Append,null,r.a.createElement(A.a,{as:Y},"Add"))))))}}]),n}(a.Component),q=v.a.div(z()),H=v.a.img(J()),K=v.a.h1(W()),Q=v.a.h3(I()),R=v.a.form(G()),V=v.a.div(F()),X=v.a.input(D()),Y=v.a.button(L()),Z=B;i.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.710f899b.chunk.js.map