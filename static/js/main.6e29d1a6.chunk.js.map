{"version":3,"sources":["images/logo.PNG","components/Status.js","components/ServiceBlock.js","components/HomePage.js","index.js"],"names":["module","exports","Status","nextProps","this","props","latency","statusBox","numPeople","people","StatusBoxGood","StatusBoxBad","href","rel","Label","name","Component","styled","div","p","ServiceBlock","keyVals","Object","entries","latencyMap","map","idx","key","HomePage","state","latencyCheck","endpoints","fetch","then","results","ok","console","log","statusText","Error","json","data","setState","endpointNames","doLatencyChecks","JSON","stringify","length","numSWPeople","catch","error","numGhibPeople","interval","setInterval","clearInterval","listLength","endpointList","latencyCheckMap","Header","Logo","src","logo","alt","Title","Sub","img","h1","h3","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e29d1a6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8d277a21.PNG\";","import React, {Component} from 'react'\nimport styled from 'styled-components'\n\nclass Status extends Component {\n\n\tshouldComponentUpdate(nextProps) {\n\t\treturn this.props.latency !== nextProps.latency;\n\t}\n\n\trender() {\n\t\tconst numPeople = this.props.people;\n\t\tconst latency = this.props.latency;\n\t\tlet statusBox;\n\t\tif (numPeople > 0) {\n\t\t\tstatusBox = <StatusBoxGood>Service contains {numPeople} people</StatusBoxGood>\n\t\t} else {\n\t\t\tif (latency < 70) {\n\t\t\t\tstatusBox = <StatusBoxGood>{latency}ms</StatusBoxGood>\n\t\t\t} else {\n\t\t\t\tstatusBox = <StatusBoxBad>{latency}ms</StatusBoxBad>\n\t\t\t}\n\t\t}\n\t\treturn (\n\t\t<div>\n\t\t\t<link href='https://fonts.googleapis.com/css?family=Mulish' rel='stylesheet' />\n\t\t\t<div>\n\t\t\t\t<Label>{this.props.name}</Label>\n\t\t\t\t{statusBox}\n\t\t\t</div>\n\t\t</div>\n\t\t)\n\t}\n}\n\nconst StatusBoxGood = styled.div`\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: #409920;\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 100;\n\tmargin-left: 1em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n\nconst StatusBoxBad = styled.div`\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: #994020;\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 400;\n\tmargin-left: 1em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n`\n\nconst Label = styled.p`\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Mulish';\n\theight: 2em;\n\twidth: 5em;\n\tmargin: 0em;\n\tmargin-top: 1em;\n`\n\nexport default Status;\n","import React, {Component} from 'react'\r\nimport Status from './Status.js'\r\n\r\nclass ServiceBlock extends Component {\r\n\r\n\trender() {\r\n\t\tvar keyVals = Object.entries(this.props.latencyMap).map(([name, latency], idx) => {\r\n\t\t\treturn <Status key={idx} name={name} latency={latency} />\r\n\t\t})\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t {keyVals}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\t\t\t\r\nexport default ServiceBlock","import React, {Component} from 'react'\r\nimport Head from 'next/head'\r\nimport ServiceBlock from './ServiceBlock.js'\r\nimport styled from 'styled-components'\r\nimport logo from '../images/logo.PNG'\r\n\r\nclass HomePage extends Component {\r\n\r\n\tstate = {\r\n\t\tlatencyCheck: []\r\n\t}\r\n\t\r\n    callPeopleServices() {\r\n        fetch('https://swapi.dev/api/people/?format=json')\r\n            .then(results => {\r\n                if (!results.ok) {\r\n                \tconsole.log(\"Failed getting swapi data: \" + results.statusText)\r\n                    throw Error(results.statusText)\r\n                }\r\n                return results.json();\r\n            }).then(data => {\r\n                console.log(\"SWAPI data fetched; there are \" + data.results.length)\r\n                this.setState({ numSWPeople: data.results.length })\r\n            }).catch(error => {\r\n                console.log(error)\r\n            });\r\n        fetch('https://ghibliapi.herokuapp.com/people/?format=json')\r\n            .then(results => {\r\n                if (!results.ok) {\r\n                \tconsole.log(\"Failed getting Ghibli data: \" + results.statusText)\r\n                    throw Error(results.statusText)\r\n                }\r\n                return results.json();\r\n            }).then(data => {\r\n                console.log(\"Ghibli data fetched; there are \" + data.length)\r\n                this.setState({ numGhibPeople: data.length })\r\n            }).catch(error => {\r\n                console.log(error)\r\n            })\r\n\t}\r\n\t\r\n\tendpoints = () => {\r\n        fetch('/api/endpointNames')\r\n    \t\t.then(results => {\r\n                if (!results.ok) {\r\n                \tconsole.log(\"Failed getting endpoints data: \" + results.statusText)\r\n                    throw Error(results.statusText)\r\n                }\r\n\t\t\t\treturn results.json()\r\n\t\t\t})\r\n            .then(data => {\r\n                console.log(\"endpoints names fetched: \" + data)\r\n                this.setState({endpointNames: data})\r\n            })\r\n    }\r\n\t\r\n\tdoLatencyChecks = () => {\r\n        fetch('/api/latencyCheck')\r\n    \t\t.then(results => {\r\n                if (!results.ok) {\r\n                \tconsole.log(\"Failed getting endpoints data: \" + results.statusText)\r\n                    throw Error(results.statusText)\r\n                }\r\n\t\t\t\treturn results.json()\r\n\t\t\t})\r\n            .then(data => {\r\n                console.log(\"latencyCheck data fetched: \" + JSON.stringify(data))\r\n                this.setState({latencyCheck: data})\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\tthis.endpoints()\r\n\t\tthis.doLatencyChecks();\r\n\t\tthis.interval = setInterval(() => this.doLatencyChecks(), 5000)\r\n\t\tconsole.log(\"Page interval set to 5s\")\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n  \t\tclearInterval(this.interval)\r\n\t\tconsole.log(\"Page interval cleared\")\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tvar listLength = this.state != null && this.state.endpointList != null ? this.state.endpointNames.length : 0\r\n\t\tvar latencyCheckMap = this.state != null && this.state.latencyCheck != null ? this.state.latencyCheck : []\r\n\t\treturn (<div>\r\n\t\t\t<Head>\r\n\t\t\t\t<title>Service Dash</title>\r\n\t\t\t\t<link href='https://fonts.googleapis.com/css?family=Mulish' rel='stylesheet' />\r\n\t\t\t</Head>\r\n\t\t\t<Header>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Logo src={logo} alt=\"Logo\"></Logo>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Title>Service Status Dash</Title>\r\n\t\t\t\t\t\t<Sub>Page refreshes every 5s; {listLength > 0 ? 'There are ' + listLength + ' endpoints' : ''}</Sub>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ServiceBlock latencyMap={latencyCheckMap} />\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</div>)\r\n\t}\r\n}\r\n\r\nconst Header = styled.div`\r\n\tline-height: 15px;\r\n    vertical-align: middle;\r\n\ttext-align: center;\r\n`\r\n\r\nconst Logo = styled.img`\r\n\tmax-width: 4em;\r\n    vertical-align: middle;\r\n`\r\n\t\r\nconst Title = styled.h1`\r\n\twidth: 95%;\r\n\tdisplay: inline-block;\r\n\tcolor: cornflowerblue;\r\n\tfont-family: 'Mulish';\r\n\tfont-size: 2em;\r\n`\r\n\t\r\nconst Sub = styled.h3`\r\n\tdisplay: inline-block;\r\n\tcolor: #647eed;\r\n\tfont-family: 'Mulish';\r\n\tmargin: 0em;\r\n`\r\n\r\nexport default HomePage","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport HomePage from './components/HomePage.js';\n\nReactDOM.render(\n\t<HomePage />, \n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}