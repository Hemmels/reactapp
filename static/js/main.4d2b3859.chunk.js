(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/logo.8d277a21.PNG"},23:function(e,t,n){e.exports=n(50)},50:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(15),r=n.n(i),o=n(1),c=n(16),s=n(3),u=n(4),h=n(7),d=n(6),m=n(5),f=n(17),p=n.n(f),g=n(22),v=n(2);function b(){var e=Object(o.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tfont-family: 'Mulish';\n\theight: 2em;\n\twidth: 5em;\n\tmargin: 0em;\n\tmargin-top: 1em;\n"]);return b=function(){return e},e}function y(){var e=Object(o.a)(["\n\tborder-style: groove;\n\tborder-width: 2px;\n\theight: 2em;\n\twidth: 20em;\n\tbackground-color: ",";\n    vertical-align: middle;\n\ttext-align: center;\n\tcolor: white;\n\tfont-family: 'Mulish';\n\tfont-weight: 100;\n\tmargin-left: 1em;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return y=function(){return e},e}var k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.latency!==e.latency}},{key:"render",value:function(){var e,t=this.props.latency;return e=t<60?l.a.createElement(j,{theme:{background:"#409920"}},t,"ms"):t<120?l.a.createElement(j,{theme:{background:"#999120"}},t,"ms"):l.a.createElement(j,{theme:{background:"#994020"}},t,"ms"),l.a.createElement("div",null,l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"}),l.a.createElement("div",null,l.a.createElement(E,null,this.props.name),e))}}]),n}(a.Component),j=v.a.div(y(),(function(e){return e.theme.background})),E=v.a.p(b()),O=k,w=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=Object.entries(this.props.latencyMap).map((function(e,t){var n=Object(g.a)(e,2),a=n[0],i=n[1];return l.a.createElement(O,{key:t,name:a,latency:i})}));return l.a.createElement("div",null,e)}}]),n}(a.Component),C=n(21),S=n.n(C);function x(){var e=Object(o.a)(["\n\tdisplay: inline-block;\n\tcolor: #647eed;\n\tfont-family: 'Mulish';\n\tmargin: 0em;\n"]);return x=function(){return e},e}function M(){var e=Object(o.a)(["\n\twidth: 95%;\n\tdisplay: inline-block;\n\tcolor: cornflowerblue;\n\tfont-family: 'Mulish';\n\tfont-size: 2em;\n"]);return M=function(){return e},e}function P(){var e=Object(o.a)(["\n\tmax-width: 4em;\n    vertical-align: middle;\n"]);return P=function(){return e},e}function U(){var e=Object(o.a)(["\n\tline-height: 15px;\n    vertical-align: middle;\n\ttext-align: center;\n"]);return U=function(){return e},e}var N=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).endpoints=function(){fetch("/api/endpointNames").then((function(e){return e.ok||console.log("Failed getting endpoints data: "+e.statusText),e.json()})).then((function(t){console.log("endpoints names fetched: "+t),e.setState({endpointNames:t})}))},e.doLatencyChecks=function(){fetch("/api/latencyCheck").then((function(e){return e.ok||console.log("Failed getting endpoints data: "+e.statusText),e.json()})).then((function(t){console.log("latencyCheck data fetched: "+JSON.stringify(t)),e.setState({latencyCheck:t})}))},e.state={latencyCheck:[],newUrl:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(n,[{key:"callPeopleServices",value:function(){var e=this;fetch("https://swapi.dev/api/people/?format=json").then((function(e){return e.ok||console.log("Failed getting swapi data: "+e.statusText),e.json()})).then((function(t){console.log("SWAPI data fetched; there are "+t.results.length),e.setState({numSWPeople:t.results.length})})).catch((function(e){console.log(e)})),fetch("https://ghibliapi.herokuapp.com/people/?format=json").then((function(e){return e.ok||console.log("Failed getting Ghibli data: "+e.statusText),e.json()})).then((function(t){console.log("Ghibli data fetched; there are "+t.length),e.setState({numGhibPeople:t.length})})).catch((function(e){console.log(e)}))}},{key:"addNewUrl",value:function(){var e={method:"POST",body:this.state.newUrl};fetch("/api/addendpoint",e).then((function(e){return e.json()}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(c.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addNewUrl()}},{key:"componentDidMount",value:function(){var e=this;this.endpoints(),this.doLatencyChecks(),this.interval=setInterval((function(){return e.doLatencyChecks()}),5e3),console.log("Page interval set to 5s")}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),console.log("Page interval cleared")}},{key:"render",value:function(){var e=null!=this.state&&null!=this.state.endpointList?this.state.endpointNames.length:0,t=null!=this.state&&null!=this.state.latencyCheck?this.state.latencyCheck:[];return l.a.createElement("div",null,l.a.createElement(p.a,null,l.a.createElement("title",null,"Service Dash"),l.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Mulish",rel:"stylesheet"})),l.a.createElement(T,null,l.a.createElement("div",null,l.a.createElement(L,{src:S.a,alt:"Logo"}),l.a.createElement("div",null,l.a.createElement(D,null,"Service Status Dash"),l.a.createElement(F,null,"Page refreshes every 5s ",e>0?"; There are "+e+" endpoints":"")),l.a.createElement(w,{latencyMap:t}))),l.a.createElement(T,null,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("input",{type:"text",name:"newUrl",value:this.state.newUrl,onChange:this.handleChange,placeholder:"Add url to ping"}),l.a.createElement("button",null,"Add"))))}}]),n}(a.Component),T=v.a.div(U()),L=v.a.img(P()),D=v.a.h1(M()),F=v.a.h3(x()),G=N;r.a.render(l.a.createElement(G,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.4d2b3859.chunk.js.map